{% extends "base.html.twig" %}

{% block title %}Login{% endblock %}

{% block main %}
  <div class="col-xl-4 col-sm-10 col-xs-10 mx-auto py-5">
    {% if error %}
      <div class="alert alert-danger">{{ error.messageKey }}</div>
    {% endif %}
      <div class="container py-5">
        <div class="card border-success mb-5" style="width:18 rem;">
          <div class="card-body">
            <div class="card-title">
              <h1 class="mt-3 text-center">Connexion</h1>
            </div>
            <div class="card-text">
              <form method="post" class="container-md mb-3">
                <label class="mt-3 form-label" for="username">Nom d'utilisateur</label>
                <input type="text" name="_username" id="username" value="{{ last_username}}" class="form-control" required>
                <label class="mt-3 form-label" for="password">Mot de passe</label>
                <input type="password" name="_password" id="password" class="form-control" required>
                {% if is_granted('ROLE_ADMIN') %}
                  <input type="hidden" name="_target_path" value="{{ path('admin_index') }}"/>
                {% endif %}
                {% if is_granted('ROLE_FRANCHISE') %}
                  <input type="hidden" name="_target_path" value="{{ path('franchise_index') }}"/>
                {% endif %}
                {% if is_granted('ROLE_PARTNER') %}
                  <input type="hidden" name="_target_path" value="{{ path('salle_index') }}"/>
                {% endif %}
                <button type="submit" class="btn btn-success mt-4 mx-auto d-block">Se connecter</button>
              </form>
            </div>
          </div>
        </div>
        <div class="card-footer text-center bg-transparent">
        <p>Pas encore de compte?</p>
        <a href="" class="">Demandez votre inscription</a>
      </div>
    </div>
  </div>
{% endblock %}